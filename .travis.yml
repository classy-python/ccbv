language: python
dist: xenial
sudo: required

python:
  - "3.7"

install:
  - pipenv sync --dev

script:
  - pipenv run pytest

stages:
  - lint
  - test

jobs:
  include:
    - stage: lint
      install: pip install -U -e .[tests] black pyflakes isort
      script:
        - make lint
